<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="apple-touch-icon" href="/logo512.png" />
    
    <!-- DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="https://portfolio-cms-n9hb.onrender.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    
    <!-- Critical CSS for above-the-fold content -->
    <style>
      :root {
        --colour-background-base: #ffffff;
        --colour-text-strong: #000000;
        --colour-text-weak: #666666;
        --colour-text-brand: #0066cc;
      }
      
      [data-theme="dark"] {
        --colour-background-base: #1a1a1a;
        --colour-text-strong: #ffffff;
        --colour-text-weak: #cccccc;
        --colour-text-brand: #4d9fff;
      }
      
      body {
        font-family: Mulish, sans-serif;
        background-color: var(--colour-background-base);
        color: var(--colour-text-strong);
        margin: 0;
        padding: 0;
        line-height: 1.5;
      }
      
      
      .loading-container {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background-color: var(--colour-background-base);
      }
    </style>
    <!-- PWA Support -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Preload and optimize Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap">
    </noscript>

    <!-- Google Analytics - Optimized with delay -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-6KLVHD991N');
      
      // Load Google Analytics script asynchronously after user interaction or 3 seconds
      let gaLoaded = false;
      function loadGA() {
        if (!gaLoaded) {
          const script = document.createElement('script');
          script.src = 'https://www.googletagmanager.com/gtag/js?id=G-6KLVHD991N';
          script.async = true;
          document.head.appendChild(script);
          gaLoaded = true;
        }
      }
      
      // Load on first user interaction
      ['mousedown', 'touchstart', 'keydown', 'scroll'].forEach(event => {
        document.addEventListener(event, loadGA, { once: true, passive: true });
      });
      
      // Fallback: load after 3 seconds
      setTimeout(loadGA, 3000);
    </script>

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <form name="contact" netlify netlify-honeypot="bot-field" hidden>
      <input type="text" name="name" />
      <input type="email" name="email" />
      <textarea name="message"></textarea>
  </form>

  </body>
</html>
