@use '../../../styles/base' as *;

.project-item-card-link {
    text-decoration: none;

    .project-item-card {
        @include container($container-background: var(--colour-background-raised), $container-box-shadow: $elevation-raised, $container-padding: 0);
        transition: all $time;
        color: $text-weak;
        position: relative;
    
        @include respond-above(desktop) {
            &:hover {
                @include container($container-background: var(--colour-background-overlay), $container-box-shadow: $elevation-overlay, $container-padding: 0);

                .button.variant-secondary.tone-brand {
                    background: linear-gradient(0deg, #{$fill-hover}, #{$fill-hover}), rgba(255, 255, 255, 0.01);
                    border-color: $stroke-brand-strong;
                    color: $text-brand;

                    .icon {
                        color: $icon-brand;
                    }
                }

                .project-item-content {

                    h2 {
                        
                        transition: transform $time;
                    }
                    p {
                        display: block;
                        opacity: 1;
                        transform: translateY(0);
                        transition: transform $time;
                    }   
                }
            }    
        }

        .project-item-thumb {
            object-fit: cover;
            
        width: 100%;
            height: 100%;
        }
    
        .project-item-content {
            position: absolute;
            bottom: 0;
            inset: 0;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: end;
            padding: $scale-lg;
            gap: $scale-root;
            background: linear-gradient(0deg, #{$grey-solid-900}, rgba($grey-solid-900, 0));

            h2 {
                @include responsive-typography(heading-4);
                color: $grey-dark-1000;
            }

            p {
                display: none;
                color: $grey-dark-700;
                opacity: 0;
                transform:translateY(150%);
            }
        }
    }
}

.project-grid {

    .project-item-card {
        display: flex;
        aspect-ratio: 4 / 3;
        flex-direction: column;
        border-radius: $corner-radius-2;
        overflow: hidden;

        .project-item-content > .button {    
            align-self: start;
        }
    }

}

.project-list  {

    .project-item-card {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        grid-gap: var(--gap);
        border-radius: $corner-radius-2;
        overflow: hidden;

        @include respond(mobile) {
            flex-direction: column;
            display: flex;
            aspect-ratio: 2 / 1;
        }

        .project-item-thumb {
            grid-column: 1 / span 2;
            height: 100%;

            @include respond(mobile) {
                width: 100%;
            }
        }

        .project-item-content {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            grid-column: 3 / -1;
            padding: var(--gap) var(--gap) var(--gap) 0;
            background: none;

            p {
                display: block;
                opacity: 1;
                transform: translateY(0%);
            }

            @include respond(mobile) {
                position: absolute;
                justify-content: end;
                padding: var(--gap);
                background: linear-gradient(0deg, #{$grey-solid-900}, rgba($grey-solid-900, 0));

                p {
                    display: none;
                }
            }
        }
    }
}

.swiper-slide {

    a {
        width: 100%;
        height: 100%;

        .project-item-card {
            display: flex;
            flex-direction: column;
            aspect-ratio: 2 / 1;
            border-radius: $corner-radius-2;
            overflow: hidden;

            .project-item-content {
            padding: var(--gap);
            }
        }
    }
}